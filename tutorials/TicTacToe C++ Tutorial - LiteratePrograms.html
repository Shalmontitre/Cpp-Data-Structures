<!DOCTYPE html>
<!-- saved from url=(0141)http://webcache.googleusercontent.com/search?q=cache:80DJQJuqY08J:en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)+&cd=2&hl=en&ct=clnk&gl=us -->
<html lang="en" dir="ltr" class="client-js"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!--<base href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)">--><base href="."><style type="text/css"></style><script async="" src="./Tic Tac Toe (C Plus Plus) - LiteratePrograms_files/load.php"></script><script>window["_GOOG_TRANS_EXT_VER"] = "1";</script></head><body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Tic_Tac_Toe_C_Plus_Plus skin-vector action-view vector-animateLayout" style=""><div style="background:#fff;border:1px solid #999;margin:-1px -1px 0;padding:0;"><div style="background:#ddd;border:1px solid #999;color:#000;font:13px arial,sans-serif;font-weight:normal;margin:12px;padding:8px;text-align:left">This is Google's cache of <a href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)" style="text-decoration:underline;color:#00c">http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)</a>. It is a snapshot of the page as it appeared on Sep 13, 2013 05:55:27 GMT. The <a href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)" style="text-decoration:underline;color:#00c">current page</a> could have changed in the meantime. <a href="http://support.google.com/websearch/bin/answer.py?hl=en&p=cached&answer=1687222" style="text-decoration:underline;color:#00c">Learn more</a><br>Tip: To quickly find your search term on this page, press <b>Ctrl+F</b> or <b>⌘-F</b> (Mac) and use the find bar.<br><br><div style="float:right"><a href="http://webcache.googleusercontent.com/search?q=cache:80DJQJuqY08J:en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)&hl=en&gl=us&strip=1" style="text-decoration:underline;color:#00c">Text-only version</a></div>
<div>&nbsp;</div></div></div><div style="position:relative">



<title>Tic Tac Toe (C Plus Plus) - LiteratePrograms</title>
<meta charset="UTF-8">
<meta name="generator" content="MediaWiki 1.21.1">
<link rel="alternate" type="application/x-wiki" title="Edit" href="http://en.literateprograms.org/index.php?title=Tic_Tac_Toe_(C_Plus_Plus)&action=edit">
<link rel="edit" title="Edit" href="http://en.literateprograms.org/index.php?title=Tic_Tac_Toe_(C_Plus_Plus)&action=edit">
<link rel="shortcut icon" href="http://en.literateprograms.org/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="http://en.literateprograms.org/opensearch_desc.php" title="LiteratePrograms (en)">
<link rel="EditURI" type="application/rsd+xml" href="http://en.literateprograms.org/api.php?action=rsd">
<link rel="copyright" href="http://en.literateprograms.org/LiteratePrograms:Copyrights">
<link rel="alternate" type="application/atom+xml" title="LiteratePrograms Atom feed" href="http://en.literateprograms.org/index.php?title=Special:RecentChanges&feed=atom">
<link rel="stylesheet" href="http://en.literateprograms.org/load.php?debug=false&lang=en&modules=ext.rtlcite%7Cmediawiki.legacy.commonPrint%2Cshared%7Cskins.vector&only=styles&skin=vector&*">
<style>
.mw-collapsible-toggle{float:right} li .mw-collapsible-toggle{float:none} .mw-collapsible-toggle-li{list-style:none}
/* cache key: moonflar_literateprogramsdb:resourceloader:filter:minify-css:7:4250852ed2349a0d4d0fc6509a3e7d4c */
.suggestions{overflow:hidden;position:absolute;top:0;left:0;width:0;border:none;z-index:1099;padding:0;margin:-1px -1px 0 0} html > body .suggestions{margin:-1px 0 0 0}.suggestions-special{position:relative;background-color:white;cursor:pointer;border:solid 1px #aaaaaa;padding:0;margin:0;margin-top:-2px;display:none;padding:0.25em 0.25em;line-height:1.25em}.suggestions-results{background-color:white;cursor:pointer;border:solid 1px #aaaaaa;padding:0;margin:0}.suggestions-result{color:black;margin:0;line-height:1.5em;padding:0.01em 0.25em;text-align:left}.suggestions-result-current{background-color:#4C59A6;color:white}.suggestions-special .special-label{color:gray;text-align:left}.suggestions-special .special-query{color:black;font-style:italic;text-align:left}.suggestions-special .special-hover{background-color:silver}.suggestions-result-current .special-label,.suggestions-result-current .special-query{color:white}.autoellipsis-matched,.highlight{font-weight:bold}
/* cache key: moonflar_literateprogramsdb:resourceloader:filter:minify-css:7:9780324491b653a3780e2d029bdc140c */</style><style>
.suggestions a.mw-searchSuggest-link,.suggestions a.mw-searchSuggest-link:hover,.suggestions a.mw-searchSuggest-link:active,.suggestions a.mw-searchSuggest-link:focus{text-decoration:none;color:black}.suggestions-result-current a.mw-searchSuggest-link,.suggestions-result-current a.mw-searchSuggest-link:hover,.suggestions-result-current a.mw-searchSuggest-link:active,.suggestions-result-current a.mw-searchSuggest-link:focus{color:white}
/* cache key: moonflar_literateprogramsdb:resourceloader:filter:minify-css:7:52b1797f70c7e4094dfa4191101944e8 */</style><meta name="ResourceLoaderDynamicStyles" content="">
<link rel="stylesheet" href="http://en.literateprograms.org/load.php?debug=false&lang=en&modules=site&only=styles&skin=vector&*">
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: moonflar_literateprogramsdb:resourceloader:filter:minify-css:7:76cbac64706e93e38506be284c747de0 */</style>

<script src="./Tic Tac Toe (C Plus Plus) - LiteratePrograms_files/load(1).php"></script><script src="./Tic Tac Toe (C Plus Plus) - LiteratePrograms_files/load(2).php"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Tic_Tac_Toe_(C_Plus_Plus)","wgTitle":"Tic Tac Toe (C Plus Plus)","wgCurRevisionId":12028,"wgArticleId":3230,"wgIsArticle":true,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Developing","Tic Tac Toe","Programming language:C Plus Plus"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Tic_Tac_Toe_(C_Plus_Plus)","wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function(){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,"watchlistdays":3,
"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false});;},{},{});mw.loader.implement("user.tokens",function(){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});;},{},{});
/* cache key: moonflar_literateprogramsdb:resourceloader:filter:minify-js:7:5e9d6f662546365d82558dd92b2a2224 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script><script src="./Tic Tac Toe (C Plus Plus) - LiteratePrograms_files/load(3).php"></script>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]-->

		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<!-- content -->
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<!-- firstHeading -->
			<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Tic Tac Toe (C Plus Plus)</span></h1>
			<!-- /firstHeading -->
			<!-- bodyContent -->
			<div id="bodyContent">
								<!-- tagline -->
				<div id="siteSub">From LiteratePrograms</div>
				<!-- /tagline -->
								<!-- subtitle -->
				<div id="contentSub"></div>
				<!-- /subtitle -->
																<!-- jumpto -->
				<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#mw-navigation">navigation</a>, 					<a href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#p-search">search</a>
				</div>
				<!-- /jumpto -->
								<!-- bodycontent -->
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><dl><dd><b>Other implementations</b>: <strong class="selflink">C++</strong> | <a href="http://en.literateprograms.org/Tic_Tac_Toe_(Python)" title="Tic Tac Toe (Python)">Python</a>
</dd></dl>
<div style="text-align: center; border: 3px solid #E3AC43; padding:2px; margin: 0 auto;">
<p><big><b>This program is under <i>development</i>.</b></big><br>
Please help to <b><a class="external text" href="http://en.literateprograms.org/index.php?title=Tic_Tac_Toe_(C_Plus_Plus)&action=edit">debug it</a></b>. When debugging<br>
is complete, <a class="external text" href="http://en.literateprograms.org/index.php?title=Tic_Tac_Toe_(C_Plus_Plus)&action=edit">remove</a> the {{develop}} tag.
</p>
</div>
<p>In this article we're going to implement a simple <a class="external text" href="http://en.wikipedia.org/wiki/Minimax">minimax</a> algorithm with <a class="external text" href="http://en.wikipedia.org/wiki/Alpha-beta_pruning">alpha-beta pruning</a>, used in a game of tic-tac-toe.
</p>
<table id="toc" class="toc"><tbody><tr><td><div id="toctitle"><h2>Contents</h2><span class="toctoggle">&nbsp;[<a href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#" class="internal" id="togglelink">hide</a>]&nbsp;</span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#Position_class"><span class="tocnumber">1</span> <span class="toctext">Position class</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#Basic_methods"><span class="tocnumber">1.1</span> <span class="toctext">Basic methods</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#Iterating_through_possible_moves"><span class="tocnumber">1.2</span> <span class="toctext">Iterating through possible moves</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#Outputting_the_board_to_the_screen"><span class="tocnumber">1.3</span> <span class="toctext">Outputting the board to the screen</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#Finding_out_about_the_state_of_the_board"><span class="tocnumber">1.4</span> <span class="toctext">Finding out about the state of the board</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#Making_moves"><span class="tocnumber">1.5</span> <span class="toctext">Making moves</span></a></li>
</ul>
</li>
</ul>
</td></tr></tbody></table>
<h2><span class="editsection">[<a href="http://en.literateprograms.org/index.php?title=Tic_Tac_Toe_(C_Plus_Plus)&action=edit&section=1" title="Edit section: Position class">edit</a>]</span> <span class="mw-headline" id="Position_class">Position class</span></h2>
<p>First, I will define the most important piece of our code, and that is the Position class. That is a class that represents a Tic-Tac-Toe position. Note that it contains all of the game-specific code, so replacing it is all you need to do to reuse this code for another game.
</p>
<h3><span class="editsection">[<a href="http://en.literateprograms.org/index.php?title=Tic_Tac_Toe_(C_Plus_Plus)&action=edit&section=2" title="Edit section: Basic methods">edit</a>]</span> <span class="mw-headline" id="Basic_methods">Basic methods</span></h3>
<p>Before defining the class, we need a header to prototype it as we go along. This header will be included in all the files of our program.
</p>
<pre><font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:tic.h" href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#chunk use:tic.h">tic.h</a>&gt;&gt;=</b></font>
<font color="#0000ff"><strong>#ifndef TIC_H</strong></font>
<font color="#0000ff"><strong>#define TIC_H</strong></font>
<span style="border: 1px solid #a0a0a0; padding: 0.05em 0.2em 0.03em 0.2em;"><font face="times" color="#000000"><a name="chunk use:constant definitions" href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#chunk def:constant definitions">constant definitions</a></font></span>
<span style="border: 1px solid #a0a0a0; padding: 0.05em 0.2em 0.03em 0.2em;"><font face="times" color="#000000"><a name="chunk use:Position class prototype" href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#chunk def:Position class prototype">Position class prototype</a></font></span>
<span style="border: 1px solid #a0a0a0; padding: 0.05em 0.2em 0.03em 0.2em;"><font face="times" color="#000000"><a name="chunk use:utility functions" href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#chunk def:utility functions">utility functions</a></font></span>
<font color="#0000ff"><strong>#endif</strong></font>
</pre>
<p>The preprocessor lines are a safeguard so this header won't get included twice. I've also indicated what are the general things our header should contain. Let's start:
</p>
<pre><font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:constant definitions" href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#chunk use:constant definitions">constant definitions</a>&gt;&gt;=</b></font>
<strong>enum</strong> <font color="#2040a0">piece</font> <font color="#4444FF"><strong>{</strong></font><font color="#2040a0">O</font> <font color="#4444FF">=</font> <font color="#4444FF">-</font><font color="#FF0000">1</font>, <font color="#2040a0">EMPTY</font>, <font color="#2040a0">X</font><font color="#4444FF"><strong>}</strong></font><font color="#4444FF">;</font>
</pre>
<p>To enhance readability. Whenever a space is occupied by an "x" it's represented by value X, etc.
</p><p><br>
Now let's get to writing the Position class.
</p>
<pre><font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:Position class prototype" href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#chunk use:Position class prototype">Position class prototype</a>&gt;&gt;=</b></font>
<strong>class</strong> <font color="#2040a0">Position</font> <font color="#4444FF"><strong>{</strong></font>
    <strong>private</strong><font color="#4444FF">:</font>
        <font color="#2040a0">piece</font> <font color="#2040a0">board</font><font color="#4444FF">[</font><font color="#FF0000">9</font><font color="#4444FF">]</font><font color="#4444FF">;</font>
        <strong>bool</strong> <font color="#2040a0">possible_moves</font><font color="#4444FF">[</font><font color="#FF0000">9</font><font color="#4444FF">]</font><font color="#4444FF">;</font>
</pre>
<p>This is the internal representation of a position. The board is stored as an array of 9 pieces. The board actually looks like this:
</p>
<pre>          |            |
board[0]  |  board[1]  |  board[2]
          |            |
----------------------------------
          |            |
board[3]  |  board[4]  |  board[5]
          |            |
----------------------------------
          |            |
board[6]  |  board[7]  |  board[8]
          |            |
</pre>
<p>The constructors for the class:
</p>
<pre><font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:Position class prototype" href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#chunk use:Position class prototype">Position class prototype</a>&gt;&gt;=</b></font>
    <strong>public</strong><font color="#4444FF">:</font>
        <font color="#2040a0">Position</font><font color="#4444FF">(</font><font color="#4444FF">)</font><font color="#4444FF">;</font> <font color="#444444">// this creates an empty board</font>
        <font color="#2040a0">Position</font><font color="#4444FF">(</font><strong>const</strong> <font color="#2040a0">Position</font> <font color="#4444FF">&amp;</font><font color="#2040a0">p</font><font color="#4444FF">)</font><font color="#4444FF">;</font> <font color="#444444">// copy constructor</font>
<font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:position.cpp" href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#chunk use:position.cpp">position.cpp</a>&gt;&gt;=</b></font>
<font color="#0000ff"><strong>#include <font color="#008000">"tic.h"</font></strong></font>
<font color="#0000ff"><strong>#include <font color="#008000">&lt;iostream&gt;</font></strong></font>

<font color="#2040a0">Position</font><font color="#4444FF">:</font><font color="#4444FF">:</font><font color="#2040a0">Position</font><font color="#4444FF">(</font><font color="#4444FF">)</font> <font color="#4444FF"><strong>{</strong></font>
    <strong>unsigned</strong> <strong>int</strong> <font color="#2040a0">i</font><font color="#4444FF">;</font>
    <strong>for</strong> <font color="#4444FF">(</font><font color="#2040a0">i</font><font color="#4444FF">=</font><font color="#FF0000">0</font><font color="#4444FF">;</font> <font color="#2040a0">i</font><font color="#4444FF">&lt;</font><font color="#FF0000">9</font><font color="#4444FF">;</font> <font color="#2040a0">i</font><font color="#4444FF">+</font><font color="#4444FF">+</font><font color="#4444FF">)</font> <font color="#4444FF"><strong>{</strong></font>
        <font color="#2040a0">board</font><font color="#4444FF">[</font><font color="#2040a0">i</font><font color="#4444FF">]</font> <font color="#4444FF">=</font> <font color="#2040a0">EMPTY</font><font color="#4444FF">;</font>
    <font color="#4444FF"><strong>}</strong></font>
<font color="#4444FF"><strong>}</strong></font>

<font color="#2040a0">Position</font><font color="#4444FF">:</font><font color="#4444FF">:</font><font color="#2040a0">Position</font><font color="#4444FF">(</font><strong>const</strong> <font color="#2040a0">Position</font><font color="#4444FF">&amp;</font> <font color="#2040a0">pos</font><font color="#4444FF">)</font> <font color="#4444FF"><strong>{</strong></font>
    <strong>unsigned</strong> <strong>int</strong> <font color="#2040a0">i</font><font color="#4444FF">;</font>
    <strong>for</strong> <font color="#4444FF">(</font><font color="#2040a0">i</font><font color="#4444FF">=</font><font color="#FF0000">0</font><font color="#4444FF">;</font> <font color="#2040a0">i</font><font color="#4444FF">&lt;</font><font color="#FF0000">9</font><font color="#4444FF">;</font> <font color="#2040a0">i</font><font color="#4444FF">+</font><font color="#4444FF">+</font><font color="#4444FF">)</font><font color="#4444FF"><strong>{</strong></font>
        <font color="#2040a0">board</font><font color="#4444FF">[</font><font color="#2040a0">i</font><font color="#4444FF">]</font> <font color="#4444FF">=</font> <font color="#2040a0">pos</font>.<font color="#2040a0">board</font><font color="#4444FF">[</font><font color="#2040a0">i</font><font color="#4444FF">]</font><font color="#4444FF">;</font>
    <font color="#4444FF"><strong>}</strong></font>
<font color="#4444FF"><strong>}</strong></font>
</pre>
<p>Both constructors are pretty simple, actually. They only initialize the board array; the first sets all entries to empty and the second copies the board from the other position.
</p><p><br>
Next, we're going to write a getter and a setter for the board array, to preserve encapsulation:
</p>
<pre><font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:Position class prototype" href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#chunk use:Position class prototype">Position class prototype</a>&gt;&gt;=</b></font>
        <font color="#2040a0">piece</font> <font color="#2040a0">getSquare</font><font color="#4444FF">(</font><strong>const</strong> <strong>int</strong> <font color="#2040a0">square</font><font color="#4444FF">)</font> <strong>const</strong><font color="#4444FF">;</font> <font color="#444444">// const as it doesn't modify this</font>
        <strong>void</strong> <font color="#2040a0">setSquare</font><font color="#4444FF">(</font><strong>const</strong> <strong>int</strong> <font color="#2040a0">square</font>, <font color="#2040a0">piece</font> <font color="#2040a0">p</font><font color="#4444FF">)</font><font color="#4444FF">;</font>
<font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:position.cpp" href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#chunk use:position.cpp">position.cpp</a>&gt;&gt;=</b></font>
<font color="#2040a0">piece</font> <font color="#2040a0">Position</font><font color="#4444FF">:</font><font color="#4444FF">:</font><font color="#2040a0">getSquare</font><font color="#4444FF">(</font><strong>const</strong> <strong>int</strong> <font color="#2040a0">square</font><font color="#4444FF">)</font> <strong>const</strong> <font color="#4444FF"><strong>{</strong></font>
    <strong>return</strong> <font color="#2040a0">board</font><font color="#4444FF">[</font><font color="#2040a0">square</font><font color="#4444FF">]</font><font color="#4444FF">;</font>
<font color="#4444FF"><strong>}</strong></font>

<strong>void</strong> <font color="#2040a0">Position</font><font color="#4444FF">:</font><font color="#4444FF">:</font><font color="#2040a0">setSquare</font><font color="#4444FF">(</font><strong>const</strong> <strong>int</strong> <font color="#2040a0">square</font>, <font color="#2040a0">piece</font> <font color="#2040a0">p</font><font color="#4444FF">)</font> <font color="#4444FF"><strong>{</strong></font>
    <font color="#2040a0">board</font><font color="#4444FF">[</font><font color="#2040a0">square</font><font color="#4444FF">]</font> <font color="#4444FF">=</font> <font color="#2040a0">p</font><font color="#4444FF">;</font>
<font color="#4444FF"><strong>}</strong></font>
</pre>
<h3><span class="editsection">[<a href="http://en.literateprograms.org/index.php?title=Tic_Tac_Toe_(C_Plus_Plus)&action=edit&section=3" title="Edit section: Iterating through possible moves">edit</a>]</span> <span class="mw-headline" id="Iterating_through_possible_moves">Iterating through possible moves</span></h3>
<p>The tools I used to implement the iterating mechanism weren't the best possible and it may sound confusing, but it does work. 
</p><p>We use the possible_moves structure to store the moves we haven't looked at yet, and we iterate by picking the earliest move in that structure in each pass.
</p><p>We need a function to reset the possible_moves structure. It should basically set to true all of the possible moves, i.e., the empty squares:
</p>
<pre><font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:Position class prototype" href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#chunk use:Position class prototype">Position class prototype</a>&gt;&gt;=</b></font>
        <strong>void</strong> <font color="#2040a0">refreshPossibleMoves</font><font color="#4444FF">(</font><font color="#4444FF">)</font><font color="#4444FF">;</font> <font color="#444444">// updates possible_moves</font>
<font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:position.cpp" href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#chunk use:position.cpp">position.cpp</a>&gt;&gt;=</b></font>
<strong>void</strong> <font color="#2040a0">Position</font><font color="#4444FF">:</font><font color="#4444FF">:</font><font color="#2040a0">refreshPossibleMoves</font><font color="#4444FF">(</font><font color="#4444FF">)</font> <font color="#4444FF"><strong>{</strong></font>
    <strong>unsigned</strong> <strong>int</strong> <font color="#2040a0">i</font><font color="#4444FF">;</font>
    <strong>for</strong> <font color="#4444FF">(</font><font color="#2040a0">i</font><font color="#4444FF">=</font><font color="#FF0000">0</font><font color="#4444FF">;</font> <font color="#2040a0">i</font><font color="#4444FF">&lt;</font><font color="#FF0000">9</font><font color="#4444FF">;</font> <font color="#2040a0">i</font><font color="#4444FF">+</font><font color="#4444FF">+</font><font color="#4444FF">)</font><font color="#4444FF"><strong>{</strong></font>
        <strong>if</strong> <font color="#4444FF">(</font><font color="#2040a0">board</font><font color="#4444FF">[</font><font color="#2040a0">i</font><font color="#4444FF">]</font> <font color="#4444FF">=</font><font color="#4444FF">=</font> <font color="#2040a0">EMPTY</font><font color="#4444FF">)</font><font color="#4444FF"><strong>{</strong></font>
            <font color="#2040a0">possible_moves</font><font color="#4444FF">[</font><font color="#2040a0">i</font><font color="#4444FF">]</font> <font color="#4444FF">=</font> <strong>true</strong><font color="#4444FF">;</font>
        <font color="#4444FF"><strong>}</strong></font>

        <strong>else</strong> <font color="#4444FF"><strong>{</strong></font>
            <font color="#2040a0">possible_moves</font><font color="#4444FF">[</font><font color="#2040a0">i</font><font color="#4444FF">]</font> <font color="#4444FF">=</font> <strong>false</strong><font color="#4444FF">;</font>
        <font color="#4444FF"><strong>}</strong></font>
    <font color="#4444FF"><strong>}</strong></font>
<font color="#4444FF"><strong>}</strong></font>
</pre>
<p>Next, we need a function that returns the next move and clears that move from the possible_moves structure, because we have already looked at it. Note that the return value of 0 indicates that we have already looked at all moves.
</p>
<pre><font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:Position class prototype" href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#chunk use:Position class prototype">Position class prototype</a>&gt;&gt;=</b></font>
        <strong>int</strong> <font color="#2040a0">getNextMove</font><font color="#4444FF">(</font><font color="#4444FF">)</font><font color="#4444FF">;</font> <font color="#444444">// get square of next possible move</font>
<font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:position.cpp" href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#chunk use:position.cpp">position.cpp</a>&gt;&gt;=</b></font>
<strong>int</strong> <font color="#2040a0">Position</font><font color="#4444FF">:</font><font color="#4444FF">:</font><font color="#2040a0">getNextMove</font><font color="#4444FF">(</font><font color="#4444FF">)</font> <font color="#4444FF"><strong>{</strong></font>
    <strong>unsigned</strong> <strong>int</strong> <font color="#2040a0">i</font><font color="#4444FF">;</font>
    <strong>for</strong> <font color="#4444FF">(</font><font color="#2040a0">i</font><font color="#4444FF">=</font><font color="#FF0000">0</font><font color="#4444FF">;</font> <font color="#2040a0">i</font><font color="#4444FF">&lt;</font><font color="#FF0000">9</font><font color="#4444FF">;</font> <font color="#2040a0">i</font><font color="#4444FF">+</font><font color="#4444FF">+</font><font color="#4444FF">)</font><font color="#4444FF"><strong>{</strong></font>
        <strong>if</strong> <font color="#4444FF">(</font><font color="#2040a0">possible_moves</font><font color="#4444FF">[</font><font color="#2040a0">i</font><font color="#4444FF">]</font><font color="#4444FF">)</font> <font color="#4444FF"><strong>{</strong></font>
            <font color="#2040a0">possible_moves</font><font color="#4444FF">[</font><font color="#2040a0">i</font><font color="#4444FF">]</font> <font color="#4444FF">=</font> <strong>false</strong><font color="#4444FF">;</font>
            <strong>return</strong> <font color="#4444FF">(</font><font color="#2040a0">i</font><font color="#4444FF">+</font><font color="#FF0000">1</font><font color="#4444FF">)</font><font color="#4444FF">;</font>
        <font color="#4444FF"><strong>}</strong></font>
    <font color="#4444FF"><strong>}</strong></font>
    <strong>return</strong> <font color="#FF0000">0</font><font color="#4444FF">;</font>
<font color="#4444FF"><strong>}</strong></font>
</pre>
<p>If the move iterating technique is not clear right now, when I use it it will probably be.
</p>
<h3><span class="editsection">[<a href="http://en.literateprograms.org/index.php?title=Tic_Tac_Toe_(C_Plus_Plus)&action=edit&section=4" title="Edit section: Outputting the board to the screen">edit</a>]</span> <span class="mw-headline" id="Outputting_the_board_to_the_screen">Outputting the board to the screen</span></h3>
<p>Of course, we need a way to tell the user what the current state of the board is. For that I'm going to create a small utility function called piece_to_char. It returns the char that best corresponds to the actual piece (an int) on the board. This one isn't added to the header as we don't need it anywhere else.
</p>
<pre><font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:position.cpp" href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#chunk use:position.cpp">position.cpp</a>&gt;&gt;=</b></font>
<strong>char</strong> <font color="#2040a0">piece_to_char</font><font color="#4444FF">(</font><strong>int</strong> <font color="#2040a0">p</font><font color="#4444FF">)</font> <font color="#4444FF"><strong>{</strong></font>
    <strong>if</strong> <font color="#4444FF">(</font><font color="#2040a0">p</font> <font color="#4444FF">=</font><font color="#4444FF">=</font> <font color="#2040a0">EMPTY</font><font color="#4444FF">)</font> <strong>return</strong> <font color="#008000">' '</font><font color="#4444FF">;</font>
    <strong>else</strong> <strong>if</strong> <font color="#4444FF">(</font><font color="#2040a0">p</font> <font color="#4444FF">=</font><font color="#4444FF">=</font> <font color="#2040a0">X</font><font color="#4444FF">)</font> <strong>return</strong> <font color="#008000">'X'</font><font color="#4444FF">;</font>
    <strong>else</strong> <strong>return</strong> <font color="#008000">'O'</font><font color="#4444FF">;</font>
<font color="#4444FF"><strong>}</strong></font>
</pre>
<p>Now, for the actual print function. In this function we will create a new board, called print_board, that contains the same information as board, but with characters instead of ints. Then it's just a matter of printing the 3 rows of this new board.
</p>
<pre><font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:Position class prototype" href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#chunk use:Position class prototype">Position class prototype</a>&gt;&gt;=</b></font>
<strong>void</strong> <font color="#2040a0">print</font><font color="#4444FF">(</font><font color="#4444FF">)</font> <strong>const</strong><font color="#4444FF">;</font> <font color="#444444">// prints board to stdout</font>
<font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:position.cpp" href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#chunk use:position.cpp">position.cpp</a>&gt;&gt;=</b></font>
<strong>void</strong> <font color="#2040a0">Position</font><font color="#4444FF">:</font><font color="#4444FF">:</font><font color="#2040a0">print</font><font color="#4444FF">(</font><font color="#4444FF">)</font> <strong>const</strong> <font color="#4444FF"><strong>{</strong></font>
    <strong>char</strong> <font color="#2040a0">print_board</font><font color="#4444FF">[</font><font color="#FF0000">9</font><font color="#4444FF">]</font><font color="#4444FF">;</font>
    <strong>unsigned</strong> <strong>int</strong> <font color="#2040a0">i</font><font color="#4444FF">;</font>
    <strong>for</strong> <font color="#4444FF">(</font><font color="#2040a0">i</font><font color="#4444FF">=</font><font color="#FF0000">0</font><font color="#4444FF">;</font> <font color="#2040a0">i</font><font color="#4444FF">&lt;</font><font color="#FF0000">9</font><font color="#4444FF">;</font> <font color="#2040a0">i</font><font color="#4444FF">+</font><font color="#4444FF">+</font><font color="#4444FF">)</font><font color="#4444FF"><strong>{</strong></font>
        <font color="#2040a0">print_board</font><font color="#4444FF">[</font><font color="#2040a0">i</font><font color="#4444FF">]</font> <font color="#4444FF">=</font> <font color="#2040a0">piece_to_char</font><font color="#4444FF">(</font><font color="#2040a0">board</font><font color="#4444FF">[</font><font color="#2040a0">i</font><font color="#4444FF">]</font><font color="#4444FF">)</font><font color="#4444FF">;</font>
    <font color="#4444FF"><strong>}</strong></font>
    <font color="#2040a0">std</font><font color="#4444FF">:</font><font color="#4444FF">:</font><font color="#2040a0">cout</font> <font color="#4444FF">&lt;</font><font color="#4444FF">&lt;</font> <font color="#2040a0">print_board</font><font color="#4444FF">[</font><font color="#FF0000">0</font><font color="#4444FF">]</font> <font color="#4444FF">&lt;</font><font color="#4444FF">&lt;</font> <font color="#008000">'|'</font> <font color="#4444FF">&lt;</font><font color="#4444FF">&lt;</font> <font color="#2040a0">print_board</font><font color="#4444FF">[</font><font color="#FF0000">1</font><font color="#4444FF">]</font> <font color="#4444FF">&lt;</font><font color="#4444FF">&lt;</font> <font color="#008000">'|'</font> <font color="#4444FF">&lt;</font><font color="#4444FF">&lt;</font> <font color="#2040a0">print_board</font><font color="#4444FF">[</font><font color="#FF0000">2</font><font color="#4444FF">]</font> <font color="#4444FF">&lt;</font><font color="#4444FF">&lt;</font> <font color="#2040a0">std</font><font color="#4444FF">:</font><font color="#4444FF">:</font><font color="#2040a0">endl</font><font color="#4444FF">;</font>
    <font color="#2040a0">std</font><font color="#4444FF">:</font><font color="#4444FF">:</font><font color="#2040a0">cout</font> <font color="#4444FF">&lt;</font><font color="#4444FF">&lt;</font> <font color="#2040a0">print_board</font><font color="#4444FF">[</font><font color="#FF0000">3</font><font color="#4444FF">]</font> <font color="#4444FF">&lt;</font><font color="#4444FF">&lt;</font> <font color="#008000">'|'</font> <font color="#4444FF">&lt;</font><font color="#4444FF">&lt;</font> <font color="#2040a0">print_board</font><font color="#4444FF">[</font><font color="#FF0000">4</font><font color="#4444FF">]</font> <font color="#4444FF">&lt;</font><font color="#4444FF">&lt;</font> <font color="#008000">'|'</font> <font color="#4444FF">&lt;</font><font color="#4444FF">&lt;</font> <font color="#2040a0">print_board</font><font color="#4444FF">[</font><font color="#FF0000">5</font><font color="#4444FF">]</font> <font color="#4444FF">&lt;</font><font color="#4444FF">&lt;</font> <font color="#2040a0">std</font><font color="#4444FF">:</font><font color="#4444FF">:</font><font color="#2040a0">endl</font><font color="#4444FF">;</font>
    <font color="#2040a0">std</font><font color="#4444FF">:</font><font color="#4444FF">:</font><font color="#2040a0">cout</font> <font color="#4444FF">&lt;</font><font color="#4444FF">&lt;</font> <font color="#2040a0">print_board</font><font color="#4444FF">[</font><font color="#FF0000">6</font><font color="#4444FF">]</font> <font color="#4444FF">&lt;</font><font color="#4444FF">&lt;</font> <font color="#008000">'|'</font> <font color="#4444FF">&lt;</font><font color="#4444FF">&lt;</font> <font color="#2040a0">print_board</font><font color="#4444FF">[</font><font color="#FF0000">7</font><font color="#4444FF">]</font> <font color="#4444FF">&lt;</font><font color="#4444FF">&lt;</font> <font color="#008000">'|'</font> <font color="#4444FF">&lt;</font><font color="#4444FF">&lt;</font> <font color="#2040a0">print_board</font><font color="#4444FF">[</font><font color="#FF0000">8</font><font color="#4444FF">]</font> <font color="#4444FF">&lt;</font><font color="#4444FF">&lt;</font> <font color="#2040a0">std</font><font color="#4444FF">:</font><font color="#4444FF">:</font><font color="#2040a0">endl</font><font color="#4444FF">;</font>
<font color="#4444FF"><strong>}</strong></font>
</pre>
<h3><span class="editsection">[<a href="http://en.literateprograms.org/index.php?title=Tic_Tac_Toe_(C_Plus_Plus)&action=edit&section=5" title="Edit section: Finding out about the state of the board">edit</a>]</span> <span class="mw-headline" id="Finding_out_about_the_state_of_the_board">Finding out about the state of the board</span></h3>
<p>We need to have a way to know what is the state of the board -- either someone has won, it's a tie, or it's still undefined. It's logical to have the Position class give us that info. These methods probably need no explanation of what they do:
</p>
<pre><font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:Position class prototype" href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#chunk use:Position class prototype">Position class prototype</a>&gt;&gt;=</b></font>
<strong>bool</strong> <font color="#2040a0">isOver</font><font color="#4444FF">(</font><font color="#4444FF">)</font> <strong>const</strong><font color="#4444FF">;</font> <font color="#444444">// is game over?</font>
<font color="#444444">// isWin will return X or O depending on who won</font>
<strong>int</strong> <font color="#2040a0">isWin</font><font color="#4444FF">(</font><font color="#4444FF">)</font> <strong>const</strong><font color="#4444FF">;</font> <font color="#444444">// is the game won?</font>
<strong>int</strong> <font color="#2040a0">isTie</font><font color="#4444FF">(</font><font color="#4444FF">)</font> <strong>const</strong><font color="#4444FF">;</font> <font color="#444444">// is the game a tie?</font>
</pre>
<p>Now we have to think about how to implement those methods. For the isWin() method we can just check: for each row of the possible winning rows, if the squares are occupied by the same piece (not the EMPTY value, of course!). But how are we going to know which are the winning rows? Simple: let's add them to the constant definitions. Then the isWin implementation follows.
</p>
<pre><font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:constant definitions" href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#chunk use:constant definitions">constant definitions</a>&gt;&gt;=</b></font>
<strong>int</strong> <strong>const</strong> <font color="#2040a0">winning_rows</font><font color="#4444FF">[</font><font color="#4444FF">]</font><font color="#4444FF">[</font><font color="#FF0000">3</font><font color="#4444FF">]</font> <font color="#4444FF">=</font> <font color="#4444FF"><strong>{</strong></font><font color="#4444FF"><strong>{</strong></font><font color="#FF0000">0</font>, <font color="#FF0000">3</font>, <font color="#FF0000">6</font><font color="#4444FF"><strong>}</strong></font>,
                               <font color="#4444FF"><strong>{</strong></font><font color="#FF0000">1</font>, <font color="#FF0000">4</font>, <font color="#FF0000">7</font><font color="#4444FF"><strong>}</strong></font>,
                               <font color="#4444FF"><strong>{</strong></font><font color="#FF0000">2</font>, <font color="#FF0000">5</font>, <font color="#FF0000">8</font><font color="#4444FF"><strong>}</strong></font>,
                               <font color="#4444FF"><strong>{</strong></font><font color="#FF0000">0</font>, <font color="#FF0000">1</font>, <font color="#FF0000">2</font><font color="#4444FF"><strong>}</strong></font>,
                               <font color="#4444FF"><strong>{</strong></font><font color="#FF0000">3</font>, <font color="#FF0000">4</font>, <font color="#FF0000">5</font><font color="#4444FF"><strong>}</strong></font>,
                               <font color="#4444FF"><strong>{</strong></font><font color="#FF0000">6</font>, <font color="#FF0000">7</font>, <font color="#FF0000">8</font><font color="#4444FF"><strong>}</strong></font>,
                               <font color="#4444FF"><strong>{</strong></font><font color="#FF0000">0</font>, <font color="#FF0000">4</font>, <font color="#FF0000">8</font><font color="#4444FF"><strong>}</strong></font>,
                               <font color="#4444FF"><strong>{</strong></font><font color="#FF0000">2</font>, <font color="#FF0000">4</font>, <font color="#FF0000">6</font><font color="#4444FF"><strong>}</strong></font><font color="#4444FF"><strong>}</strong></font><font color="#4444FF">;</font>
<font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:position.cpp" href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#chunk use:position.cpp">position.cpp</a>&gt;&gt;=</b></font>
<strong>int</strong> <font color="#2040a0">Position</font><font color="#4444FF">:</font><font color="#4444FF">:</font><font color="#2040a0">isWin</font><font color="#4444FF">(</font><font color="#4444FF">)</font> <strong>const</strong> <font color="#4444FF"><strong>{</strong></font>
    <strong>unsigned</strong> <strong>int</strong> <font color="#2040a0">i</font>, <font color="#2040a0">index1</font>, <font color="#2040a0">index2</font>, <font color="#2040a0">index3</font><font color="#4444FF">;</font>
    <strong>for</strong> <font color="#4444FF">(</font><font color="#2040a0">i</font><font color="#4444FF">=</font><font color="#FF0000">0</font><font color="#4444FF">;</font> <font color="#2040a0">i</font><font color="#4444FF">&lt;</font><font color="#FF0000">8</font><font color="#4444FF">;</font> <font color="#2040a0">i</font><font color="#4444FF">+</font><font color="#4444FF">+</font><font color="#4444FF">)</font><font color="#4444FF"><strong>{</strong></font>
        <font color="#2040a0">index1</font> <font color="#4444FF">=</font> <font color="#2040a0">winning_rows</font><font color="#4444FF">[</font><font color="#2040a0">i</font><font color="#4444FF">]</font><font color="#4444FF">[</font><font color="#FF0000">0</font><font color="#4444FF">]</font><font color="#4444FF">;</font>
        <font color="#2040a0">index2</font> <font color="#4444FF">=</font> <font color="#2040a0">winning_rows</font><font color="#4444FF">[</font><font color="#2040a0">i</font><font color="#4444FF">]</font><font color="#4444FF">[</font><font color="#FF0000">1</font><font color="#4444FF">]</font><font color="#4444FF">;</font>
        <font color="#2040a0">index3</font> <font color="#4444FF">=</font> <font color="#2040a0">winning_rows</font><font color="#4444FF">[</font><font color="#2040a0">i</font><font color="#4444FF">]</font><font color="#4444FF">[</font><font color="#FF0000">2</font><font color="#4444FF">]</font><font color="#4444FF">;</font>
        <strong>if</strong> <font color="#4444FF">(</font><font color="#2040a0">board</font><font color="#4444FF">[</font><font color="#2040a0">index1</font><font color="#4444FF">]</font> <font color="#4444FF">=</font><font color="#4444FF">=</font> <font color="#2040a0">board</font><font color="#4444FF">[</font><font color="#2040a0">index2</font><font color="#4444FF">]</font> <font color="#4444FF">&amp;</font><font color="#4444FF">&amp;</font> <font color="#2040a0">board</font><font color="#4444FF">[</font><font color="#2040a0">index2</font><font color="#4444FF">]</font> <font color="#4444FF">=</font><font color="#4444FF">=</font> <font color="#2040a0">board</font><font color="#4444FF">[</font><font color="#2040a0">index3</font><font color="#4444FF">]</font> <font color="#4444FF">&amp;</font><font color="#4444FF">&amp;</font> <font color="#2040a0">board</font><font color="#4444FF">[</font><font color="#2040a0">index1</font><font color="#4444FF">]</font> <font color="#4444FF">!</font><font color="#4444FF">=</font> <font color="#2040a0">EMPTY</font><font color="#4444FF">)</font> <font color="#4444FF"><strong>{</strong></font>
                <strong>return</strong> <font color="#2040a0">board</font><font color="#4444FF">[</font><font color="#2040a0">index1</font><font color="#4444FF">]</font><font color="#4444FF">;</font>
            <font color="#4444FF"><strong>}</strong></font>
    <font color="#4444FF"><strong>}</strong></font>
    <strong>return</strong> <font color="#FF0000">0</font><font color="#4444FF">;</font>
<font color="#4444FF"><strong>}</strong></font>
</pre>
<p>To check if there's a tie, it's enough to check if all squares are filled:
</p>
<pre><font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:position.cpp" href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#chunk use:position.cpp">position.cpp</a>&gt;&gt;=</b></font>
<strong>int</strong> <font color="#2040a0">Position</font><font color="#4444FF">:</font><font color="#4444FF">:</font><font color="#2040a0">isTie</font><font color="#4444FF">(</font><font color="#4444FF">)</font> <strong>const</strong> <font color="#4444FF"><strong>{</strong></font>
    <strong>unsigned</strong> <strong>int</strong> <font color="#2040a0">i</font><font color="#4444FF">;</font>
    <strong>for</strong> <font color="#4444FF">(</font><font color="#2040a0">i</font><font color="#4444FF">=</font><font color="#FF0000">0</font><font color="#4444FF">;</font> <font color="#2040a0">i</font><font color="#4444FF">&lt;</font><font color="#FF0000">9</font><font color="#4444FF">;</font> <font color="#2040a0">i</font><font color="#4444FF">+</font><font color="#4444FF">+</font><font color="#4444FF">)</font><font color="#4444FF"><strong>{</strong></font>
        <strong>if</strong> <font color="#4444FF">(</font><font color="#2040a0">board</font><font color="#4444FF">[</font><font color="#2040a0">i</font><font color="#4444FF">]</font> <font color="#4444FF">=</font><font color="#4444FF">=</font> <font color="#2040a0">EMPTY</font><font color="#4444FF">)</font> <strong>return</strong> <font color="#FF0000">0</font><font color="#4444FF">;</font>
    <font color="#4444FF"><strong>}</strong></font>
    <strong>return</strong> <font color="#FF0000">2</font><font color="#4444FF">;</font>
<font color="#4444FF"><strong>}</strong></font>
</pre>
<p>The isOver() method is also very straightforward. Simply put, if it's a tie or if someone has won, then the game has ended.
</p>
<pre><font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:position.cpp" href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#chunk use:position.cpp">position.cpp</a>&gt;&gt;=</b></font>
<strong>bool</strong> <font color="#2040a0">Position</font><font color="#4444FF">:</font><font color="#4444FF">:</font><font color="#2040a0">isOver</font><font color="#4444FF">(</font><font color="#4444FF">)</font> <strong>const</strong> <font color="#4444FF"><strong>{</strong></font>
    <strong>return</strong> <font color="#4444FF">(</font><font color="#2040a0">isWin</font><font color="#4444FF">(</font><font color="#4444FF">)</font> <font color="#4444FF">|</font><font color="#4444FF">|</font> <font color="#2040a0">isTie</font><font color="#4444FF">(</font><font color="#4444FF">)</font><font color="#4444FF">)</font><font color="#4444FF">;</font>
<font color="#4444FF"><strong>}</strong></font>
</pre>
<p><br>
</p>
<h3><span class="editsection">[<a href="http://en.literateprograms.org/index.php?title=Tic_Tac_Toe_(C_Plus_Plus)&action=edit&section=6" title="Edit section: Making moves">edit</a>]</span> <span class="mw-headline" id="Making_moves">Making moves</span></h3>
<p>Now, we need to make moves. To make moves, we need to decide who is to play, and we can do that based on the oddness/parity of the number of remaining squares. The following functions do just that:
</p>
<pre><font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:Position class prototype" href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#chunk use:Position class prototype">Position class prototype</a>&gt;&gt;=</b></font>
<strong>unsigned</strong> <strong>int</strong> <font color="#2040a0">countEmptySquares</font><font color="#4444FF">(</font><font color="#4444FF">)</font> <strong>const</strong><font color="#4444FF">;</font> <font color="#444444">// count how many empty squares there are</font>
<font color="#2040a0">piece</font> <font color="#2040a0">toPlay</font><font color="#4444FF">(</font><font color="#4444FF">)</font> <strong>const</strong><font color="#4444FF">;</font> <font color="#444444">// who plays at this position?</font>
<font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:position.cpp" href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#chunk use:position.cpp">position.cpp</a>&gt;&gt;=</b></font>
<strong>unsigned</strong> <strong>int</strong> <font color="#2040a0">Position</font><font color="#4444FF">:</font><font color="#4444FF">:</font><font color="#2040a0">countEmptySquares</font><font color="#4444FF">(</font><font color="#4444FF">)</font> <strong>const</strong> <font color="#4444FF"><strong>{</strong></font>
    <strong>unsigned</strong> <strong>int</strong> <font color="#2040a0">i</font>, <font color="#2040a0">depth</font><font color="#4444FF">;</font>
    <strong>for</strong> <font color="#4444FF">(</font><font color="#2040a0">i</font><font color="#4444FF">=</font><font color="#FF0000">0</font><font color="#4444FF">;</font> <font color="#2040a0">i</font><font color="#4444FF">&lt;</font><font color="#FF0000">9</font><font color="#4444FF">;</font> <font color="#2040a0">i</font><font color="#4444FF">+</font><font color="#4444FF">+</font><font color="#4444FF">)</font><font color="#4444FF"><strong>{</strong></font>
        <strong>if</strong> <font color="#4444FF">(</font><font color="#2040a0">board</font><font color="#4444FF">[</font><font color="#2040a0">i</font><font color="#4444FF">]</font> <font color="#4444FF">=</font><font color="#4444FF">=</font> <font color="#2040a0">EMPTY</font><font color="#4444FF">)</font> <font color="#2040a0">depth</font><font color="#4444FF">+</font><font color="#4444FF">+</font><font color="#4444FF">;</font>
    <font color="#4444FF"><strong>}</strong></font>
    <strong>return</strong> <font color="#2040a0">depth</font><font color="#4444FF">;</font>
<font color="#4444FF"><strong>}</strong></font>

<font color="#2040a0">piece</font> <font color="#2040a0">Position</font><font color="#4444FF">:</font><font color="#4444FF">:</font><font color="#2040a0">toPlay</font><font color="#4444FF">(</font><font color="#4444FF">)</font> <strong>const</strong> <font color="#4444FF"><strong>{</strong></font>
    <strong>unsigned</strong> <font color="#2040a0">count</font> <font color="#4444FF">=</font> <font color="#2040a0">countEmptySquares</font><font color="#4444FF">(</font><font color="#4444FF">)</font><font color="#4444FF">;</font>
    
    <strong>if</strong> <font color="#4444FF">(</font><font color="#2040a0">count</font> <font color="#4444FF">&amp;</font> <font color="#FF0000">1</font><font color="#4444FF">)</font> <strong>return</strong> <font color="#2040a0">X</font><font color="#4444FF">;</font>
    <strong>else</strong> <strong>return</strong> <font color="#2040a0">O</font><font color="#4444FF">;</font>
<font color="#4444FF"><strong>}</strong></font>
</pre>
<p>To finish up, let's use the toPlay() method to make the actual move methods: one to play at a square and one to clear a square:
</p>
<pre><font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:Position class prototype" href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#chunk use:Position class prototype">Position class prototype</a>&gt;&gt;=</b></font>
<strong>void</strong> <font color="#2040a0">play</font><font color="#4444FF">(</font><strong>int</strong> <font color="#2040a0">square</font><font color="#4444FF">)</font><font color="#4444FF">;</font> <font color="#444444">// play in square "square"</font>
<strong>void</strong> <font color="#2040a0">undo</font><font color="#4444FF">(</font><strong>int</strong> <font color="#2040a0">square</font><font color="#4444FF">)</font><font color="#4444FF">;</font> <font color="#444444">// clear square "square"</font>
<font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:position.cpp" href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#chunk use:position.cpp">position.cpp</a>&gt;&gt;=</b></font>
<strong>void</strong> <font color="#2040a0">Position</font><font color="#4444FF">:</font><font color="#4444FF">:</font><font color="#2040a0">play</font><font color="#4444FF">(</font><strong>int</strong> <font color="#2040a0">square</font><font color="#4444FF">)</font> <font color="#4444FF"><strong>{</strong></font>
    <font color="#2040a0">board</font><font color="#4444FF">[</font><font color="#2040a0">square</font><font color="#4444FF">-</font><font color="#FF0000">1</font><font color="#4444FF">]</font> <font color="#4444FF">=</font> <font color="#2040a0">toPlay</font><font color="#4444FF">(</font><font color="#4444FF">)</font><font color="#4444FF">;</font>
<font color="#4444FF"><strong>}</strong></font>

<strong>void</strong> <font color="#2040a0">Position</font><font color="#4444FF">:</font><font color="#4444FF">:</font><font color="#2040a0">undo</font><font color="#4444FF">(</font><strong>int</strong> <font color="#2040a0">square</font><font color="#4444FF">)</font> <font color="#4444FF"><strong>{</strong></font>
    <font color="#2040a0">board</font><font color="#4444FF">[</font><font color="#2040a0">square</font><font color="#4444FF">-</font><font color="#FF0000">1</font><font color="#4444FF">]</font> <font color="#4444FF">=</font> <font color="#2040a0">EMPTY</font><font color="#4444FF">;</font>
<font color="#4444FF"><strong>}</strong></font>
</pre>
<p>Note the -1 in square-1. This is done to avoid the non-inituitiveness that results in using 0-based indexing, both for our players and for ourselves. It makes much more sense to label the board as
</p>
<pre>1|2|3
4|5|6
7|8|9
</pre>
<p>than
</p>
<pre>0|1|2
3|4|5
6|7|8
</pre>
<pre><font face="times" color="#000000"><b>&lt;&lt;<a name="chunk def:utility functions" href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#chunk use:utility functions">utility functions</a>&gt;&gt;=</b></font>
</pre>
<table style="width:200;margin-top:+.7em;background-color:#ffffff;border:1px solid #ccc">
<tbody><tr>
<td>
</td>
<td><div class="floatleft"><a href="http://en.literateprograms.org/File:Under_construction.gif" class="image"><img alt="Under construction.gif" src="./Tic Tac Toe (C Plus Plus) - LiteratePrograms_files/50px-Under_construction.gif" width="50" height="50" srcset="/images/thumb/Under_construction.gif/75px-Under_construction.gif 1.5x, /images/thumb/Under_construction.gif/100px-Under_construction.gif 2x" class="hoverZoomLink"></a></div>
</td>
<td><table><tbody><tr><td style="text-align:center"><b>TODO</b></td></tr><tr><td>Finish this program</td></tr></tbody></table>
</td></tr></tbody></table>
<table style="border:5px double;background-color:#D0FFE0;font-size:12pt;color:grey;width:100%">
<tbody><tr>
<td align="center"> <span class="plainlinks"><a class="external text" href="http://en.literateprograms.org/index.php?title=Special:Downloadcode/Tic_Tac_Toe_(C_Plus_Plus)&oldid=12028">Download code</a></span>
</td></tr></tbody></table>
<a href="http://en.literateprograms.org/promissoryfee.php"><!-- hijacker --></a><a href="http://en.literateprograms.org/promissoryfee.php" style="display: none;">hijacker</a><div style="display: none;"><a href="http://en.literateprograms.org/promissoryfee.php">hijacker</a></div><a href="http://en.literateprograms.org/promissoryfee.php"></a><!-- <a href="/promissoryfee.php">hijacker</a> --><div style="position: absolute; top: -250px; left: -250px;"><a href="http://en.literateprograms.org/promissoryfee.php">hijacker</a></div><a href="http://en.literateprograms.org/promissoryfee.php"><span style="display: none;">hijacker</span></a><a href="http://en.literateprograms.org/promissoryfee.php"><div style="height: 0px; width: 0px;"></div></a>
<!-- 
NewPP limit report
Preprocessor visited node count: 188/1000000
Preprocessor generated node count: 513/1000000
Post‐expand include size: 941/2097152 bytes
Template argument size: 19/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key moonflar_literateprogramsdb:pcache:idhash:3230-0!*!0!!en!2!* and timestamp 20130619175714 -->
</div>				<!-- /bodycontent -->
								<!-- printfooter -->
				<div class="printfooter">
				Retrieved from "<a href="http://en.literateprograms.org/index.php?title=Tic_Tac_Toe_(C_Plus_Plus)&oldid=12028">http://en.literateprograms.org/index.php?title=Tic_Tac_Toe_(C_Plus_Plus)&amp;oldid=12028</a>"				</div>
				<!-- /printfooter -->
												<!-- catlinks -->
				<div id="catlinks" class="catlinks"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="http://en.literateprograms.org/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="http://en.literateprograms.org/Category:Developing" title="Category:Developing">Developing</a></li><li><a href="http://en.literateprograms.org/Category:Tic_Tac_Toe" title="Category:Tic Tac Toe">Tic Tac Toe</a></li><li><a href="http://en.literateprograms.org/Category:Programming_language:C_Plus_Plus" title="Category:Programming language:C Plus Plus">Programming language:C Plus Plus</a></li></ul></div></div>				<!-- /catlinks -->
												<div class="visualClear"></div>
				<!-- debughtml -->
								<!-- /debughtml -->
			</div>
			<!-- /bodyContent -->
		</div>
		<!-- /content -->
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<!-- header -->
			<div id="mw-head">
				
<!-- 0 -->
<div id="p-personal" role="navigation" class="">
	<h3>Personal tools</h3>
	<ul>
<li id="pt-createaccount"><a href="http://en.literateprograms.org/index.php?title=Special:UserLogin&returnto=Tic+Tac+Toe+%28C+Plus+Plus%29&type=signup">Create account</a></li><li id="pt-login"><a href="http://en.literateprograms.org/index.php?title=Special:UserLogin&returnto=Tic+Tac+Toe+%28C+Plus+Plus%29" title="You are encouraged to log in; however, it is not mandatory [ctrl-option-o]" accesskey="o">Log in</a></li>	</ul>
</div>

<!-- /0 -->
				<div id="left-navigation">
					
<!-- 0 -->
<div id="p-namespaces" role="navigation" class="vectorTabs">
	<h3>Namespaces</h3>
	<ul>
					<li id="ca-nstab-main" class="selected"><span><a href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)" title="View the content page [ctrl-option-c]" accesskey="c">Page</a></span></li>
					<li id="ca-talk" class="new"><span><a href="http://en.literateprograms.org/index.php?title=Talk:Tic_Tac_Toe_(C_Plus_Plus)&action=edit&redlink=1" title="Discussion about the content page [ctrl-option-t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet">
	<h3 id="mw-vector-current-variant">
		</h3>
	<h3><span>Variants</span><a href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->
				</div>
				<div id="right-navigation">
					
<!-- 0 -->
<div id="p-views" role="navigation" class="vectorTabs">
	<h3>Views</h3>
	<ul>
					<li id="ca-view" class="selected"><span><a href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)">Read</a></span></li>
					<li id="ca-edit"><span><a href="http://en.literateprograms.org/index.php?title=Tic_Tac_Toe_(C_Plus_Plus)&action=edit" title="You can edit this page. Please use the preview button before saving [ctrl-option-e]" accesskey="e">Edit</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="http://en.literateprograms.org/index.php?title=Tic_Tac_Toe_(C_Plus_Plus)&action=history" title="Past revisions of this page [ctrl-option-h]" accesskey="h">View history</a></span></li>
					<li id="ca-deletecode" class="collapsible"><span><a href="http://en.literateprograms.org/Special:Downloadcode/Tic_Tac_Toe_(C_Plus_Plus)">Download code</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet">
	<h3><span>Actions</span><a href="http://en.literateprograms.org/Tic_Tac_Toe_(C_Plus_Plus)#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->

<!-- 2 -->
<div id="p-search" role="search">
	<h3><label for="searchInput">Search</label></h3>
	<form action="http://en.literateprograms.org/index.php" id="searchform">
				<div>
			<input type="search" name="search" title="Search LiteratePrograms [ctrl-option-f]" accesskey="f" id="searchInput" autocomplete="off" placeholder="Search">			<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton">			<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton">					<input type="hidden" name="title" value="Special:Search">
		</div>
	</form>
</div>

<!-- /2 -->
				</div>
			</div>
			<!-- /header -->
			<!-- panel -->
			<div id="mw-panel">
				<!-- logo -->
					<div id="p-logo" role="banner"><a style="background-image: url(/skins/common/images/LiteratePrograms_logo.png);" href="http://en.literateprograms.org/LiteratePrograms:Welcome" title="Visit the main page"></a></div>
				<!-- /logo -->
				
<!-- navigation -->
<div class="portal" role="navigation" id="p-navigation">
	<h3>Navigation</h3>
	<div class="body">
		<ul>
			<li id="n-mainpagesidebartext"><a href="http://en.literateprograms.org/LiteratePrograms:Welcome">Welcome</a></li>
			<li id="n-portal"><a href="http://en.literateprograms.org/LiteratePrograms:Community_portal" title="About the project, what you can do, where to find things">Community portal</a></li>
			<li id="n-recentchanges"><a href="http://en.literateprograms.org/Special:RecentChanges" title="A list of recent changes in the wiki [ctrl-option-r]" accesskey="r">Recent changes</a></li>
			<li id="n-newarticles"><a href="http://en.literateprograms.org/Special:NewPages">New articles</a></li>
			<li id="n-randompage"><a href="http://en.literateprograms.org/Special:Random" title="Load a random page [ctrl-option-x]" accesskey="x">Random article</a></li>
			<li id="n-help"><a href="http://en.literateprograms.org/Help:Contents" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>

<!-- /navigation -->

<!-- SEARCH -->

<!-- /SEARCH -->

<!-- TOOLBOX -->
<div class="portal" role="navigation" id="p-tb">
	<h3>Toolbox</h3>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="http://en.literateprograms.org/Special:WhatLinksHere/Tic_Tac_Toe_(C_Plus_Plus)" title="A list of all wiki pages that link here [ctrl-option-j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="http://en.literateprograms.org/Special:RecentChangesLinked/Tic_Tac_Toe_(C_Plus_Plus)" title="Recent changes in pages linked from this page [ctrl-option-k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="http://en.literateprograms.org/Special:SpecialPages" title="A list of all special pages [ctrl-option-q]" accesskey="q">Special pages</a></li>
			<li id="t-print"><a href="http://en.literateprograms.org/index.php?title=Tic_Tac_Toe_(C_Plus_Plus)&printable=yes" rel="alternate" title="Printable version of this page [ctrl-option-p]" accesskey="p">Printable version</a></li>
			<li id="t-permalink"><a href="http://en.literateprograms.org/index.php?title=Tic_Tac_Toe_(C_Plus_Plus)&oldid=12028" title="Permanent link to this revision of the page">Permanent link</a></li>
			<li id="t-info"><a href="http://en.literateprograms.org/index.php?title=Tic_Tac_Toe_(C_Plus_Plus)&action=info">Page information</a></li>
		</ul>
	</div>
</div>

<!-- /TOOLBOX -->

<!-- LANGUAGES -->

<!-- /LANGUAGES -->
			</div>
			<!-- /panel -->
		</div>
		<!-- footer -->
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 10 January 2008, at 18:24.</li>
											<li id="footer-info-copyright">Content is available under the <a href="http://en.literateprograms.org/LiteratePrograms:Copyrights" title="LiteratePrograms:Copyrights">MIT/X11 License</a>.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="http://en.literateprograms.org/LiteratePrograms:Privacy_policy" title="LiteratePrograms:Privacy policy">Privacy policy</a></li>
											<li id="footer-places-about"><a href="http://en.literateprograms.org/LiteratePrograms:About" title="LiteratePrograms:About">About LiteratePrograms</a></li>
											<li id="footer-places-disclaimer"><a href="http://en.literateprograms.org/LiteratePrograms:General_disclaimer" title="LiteratePrograms:General disclaimer">Disclaimers</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-copyrightico">
						<a href="http://www.opensource.org/licenses/mit-license.php"><img src="" alt="MIT/X11 License" width="88" height="31"></a>
					</li>
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="./Tic Tac Toe (C Plus Plus) - LiteratePrograms_files/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31"></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<!-- /footer -->
		<script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.page.ready","mediawiki.searchSuggest","mediawiki.hidpi","skins.vector.js"], null, true);
}</script>
<script src="./Tic Tac Toe (C Plus Plus) - LiteratePrograms_files/load(4).php"></script>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script src="./Tic Tac Toe (C Plus Plus) - LiteratePrograms_files/ga.js" type="text/javascript"></script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-30916801-1");
pageTracker._trackPageview();
</script><!-- Served in 0.262 secs. -->
	

</div><div class="suggestions" style="display: none; font-size: 11px;"><div class="suggestions-results"></div><div class="suggestions-special"></div></div></body></html>